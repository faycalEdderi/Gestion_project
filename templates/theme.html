{% load static %}
<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="utf-8" />
  <link rel="apple-touch-icon" sizes="76x76" href=" {% static 'img/apple-icon.png' %}">
  <link rel="icon" type="image/png" href="{% static 'img/a.png' %}">

  <title>
   ADAS VALID SITE 
  </title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
  <link rel="stylesheet" type="text/css"  href="{% static 'css/google_font.css' %}">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">

    
  <!-- CSS Files -->
  <link href="{% static 'css/material-dashboard.css' %}"  rel="stylesheet">
    <!--Jquery UI CSS Files-->
  <link type="text/css" rel="stylesheet" href="{% static 'css/jquery-ui.min.css' %} ">
  <link type="text/css" rel="stylesheet" href="{% static 'css/jquery-ui.structure.css' %}">
  <link type="text/css" rel="stylesheet" href="{% static 'css/jquery-ui.theme.min.css' %}">
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  

  <link href="{% static 'css/style.css' %}"  rel="stylesheet">
  <link href="{% static 'css/simple-sidebar.css' %}"  rel="stylesheet">



</head>

<body class="">

  
  <div class="wrapper "  >
  
    <div class="sidebar " data-background-color="white"  data-image="{% static 'img/expleo.png' %}" id="wrapper"  >

      <div class="logo">
        <a href="{% url 'uo' %}" class="simple-text logo-normal">
         <img class="img-fluid" src="{% static 'img/expleoLogo.png' %}" alt="logo Expleo">
        </a>
      </div>

     
      {% include 'menu.html' %} 


    </div>
    
    <div class="main-panel  ">

        
      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top  ">
        
        <div class="container-fluid">

     <!-- METTTRE UNE VARIABLE
          <div class="navbar-wrapper">
            <a class="navbar-brand" href="#pablo">Uos</a>
          </div>
          -->







      <!--DROPDOWN MENU FILTRE-->




            <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
              <span class="sr-only">Toggle navigation</span>
              <span class="navbar-toggler-icon icon-bar"></span>
              <span class="navbar-toggler-icon icon-bar"></span>
              <span class="navbar-toggler-icon icon-bar"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end">
            
              <ul class="navbar-nav d-flex justify-content-center">
                
                <li class="nav-item dropdown">
                  <a class="nav-link " href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="material-icons">notifications</i>
                    <span class="notification">5</span>
                    <p class="d-lg-none d-md-block">
                      Some Actions
                    </p>
                  </a>
                <!--<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item" href="#">Mike John responded to your email</a>
                  <a class="dropdown-item" href="#">You have 5 new tasks</a>
                  <a class="dropdown-item" href="#">You're now friend with Andrew</a>
                  <a class="dropdown-item" href="#">Another Notification</a>
                  <a class="dropdown-item" href="#">Another One</a>
                </div>
              
              -->
                
              </li>
              <li class="nav-item dropdown d-md-block">
                {% if user.is_authenticated %}
                  <a class="nav-link dropdown-toggle " href="#" id="navbarDropdownProfile" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      
                      <span>{{ user.last_name }} {{ user.first_name }}</span>
                      
                 
                    
                  <p class="d-lg-none d-md-block">
                    Account
                  </p>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownProfile">
                    <a class="dropdown-item" href="{% url 'profil' %}">Profil</a>
                    
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="{% url 'logout' %}">Déconnexion</a>
                  </div>
                  {% else %}
                  <span>Veuillez vous connecter.</span>
              {% endif %}
               
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <!-- End Navbar -->
      {% block content %}{% endblock %}
      {% block footer %}{% endblock %}
      
  


      <!--   Core JS Files   -->
<script src="{% static 'js/core/jquery.min.js' %}"></script>
<script src="{% static 'js/core/affichage.js' %}" ></script>
<script src="{% static 'js/core/popper.min.js' %}"></script>



<script src="{% static 'js/core/bootstrap-material-design.min.js' %}"></script>
<script src="{% static 'js/plugins/perfect-scrollbar.jquery.min.js' %}"></script>


<!-- Librairie JQuery UI-->
<script src="{% static 'js/plugins/jquery-ui.min.js' %}"></script>



<!-- Plugin for the momentJs  -->
<script src="{% static 'js/plugins/moment.min.js' %}"></script>
<!--  Plugin for Sweet Alert -->
<script src="{% static 'js/plugins/sweetalert2.js' %}"></script>
<!-- Forms Validations Plugin -->
<script src="{% static 'js/plugins/jquery.validate.min.js' %}"></script>
<!-- Plugin for the Wizard, full documentation here: https://github.com/VinceG/twitter-bootstrap-wizard -->
<script src="{% static 'js/plugins/jquery.bootstrap-wizard.js' %}"></script>
<!--	Plugin for Select, full documentation here: http://silviomoreto.github.io/bootstrap-select -->
<script src="{% static 'js/plugins/bootstrap-selectpicker.js' %}"></script>
<!--  Plugin for the DateTimePicker, full documentation here: https://eonasdan.github.io/bootstrap-datetimepicker/ -->
<script src="{% static 'js/plugins/bootstrap-datetimepicker.min.js' %}"></script>
<!--  DataTables.net Plugin, full documentation here: https://datatables.net/  -->
<script src="{% static 'js/plugins/jquery.dataTables.min.js' %}"></script>
<!--	Plugin for Tags, full documentation here: https://github.com/bootstrap-tagsinput/bootstrap-tagsinputs  -->
<script src="{% static 'js/plugins/bootstrap-tagsinput.js' %}"></script>
<!-- Plugin for Fileupload, full documentation here: http://www.jasny.net/bootstrap/javascript/#fileinput -->
<script src="{% static 'js/plugins/jasny-bootstrap.min.js' %}"></script>
<!--  Full Calendar Plugin, full documentation here: https://github.com/fullcalendar/fullcalendar    -->
<script src="{% static 'js/plugins/fullcalendar.min.js' %}"></script>
<!-- Vector Map plugin, full documentation here: http://jvectormap.com/documentation/ -->
<script src="{% static 'js/plugins/jquery-jvectormap.js' %}"></script>
<!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
<script src="{% static 'js/plugins/nouislider.min.js' %}"></script>
<!-- Include a polyfill for ES6 Promises (optional) for IE11, UC Browser and Android browser support SweetAlert -->
<script src="{% static 'js/plugins/coreJS.js' %} "></script>
<!-- Library for adding dinamically elements -->
<script src="{% static 'js/plugins/arrive.min.js' %}"></script>

<!-- Chartist JS -->
<script src="{% static 'js/plugins/chartist.min.js' %}"></script>
<!--  Notifications Plugin    -->
<script src="{% static 'js/plugins/bootstrap-notify.js' %}"></script>
<!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
<script src="{% static 'js/material-dashboard.js' %}" type="text/javascript"></script>




  

<script>

  $(document).ready(function() {
    
   
    
/* Page de création de compte : 
 * Lorque le champs select du poste est modifié une liste de poste s'affiche
 * en fonction de la valeur
 */

    $( "input" ).addClass( "form-control" );
    $('th').addClass("text-center");
    $('td').addClass("text-center");

    
    
//Dispartion des messages au bout de 5 seconde :
    window.setTimeout( () => $('.alert').fadeOut('slow'), 10000 );
    

    $().ready(function() { 


      $('.avancement').val
      
 // DEBUT FONCTION PROGRESSBAR AVANCEMENT     
      let x = 0 ; // initialisation de la valeur a 0
      $(".moins").attr("disabled", true); // desactive par défaut le bouton -
      
      
      
      function fctProgressBar(){  // Création d'une "fonction objet" appelant la function progressbar    
        $( ".progressbar" ).progressbar({   //permet d'afficher une progressbar vide
          
          value: x,
          max : 100,
          
          });
          $( ".progress-label" ).text( x + '%'); // affiche la valeur en % dans le front
          
      }
      fctProgressBar()

      $(".plus").click(function(){
     
        let y = x + 1 ; 
        x = y;
        
          if(x > 0 ){
          // active le bouton - si la valeur est superieur a 0
          $(".moins").removeAttr("disabled");
          }

          $( function() {
            fctProgressBar(); // appel de la fonction "objet" progressBar
            if(x >= 100 ){
            // désactive le bouton + si la valeur est superieur ou egal a 100 
            $(".plus").attr("disabled", true);
            x = 100;  
            }
          });
        });

    $(".moins").click(function(){
     let y = x - 1; 
     x = y; 
     
     if(x < 100 ){
      // active le bouton + si la valeur est plus petite que 100
        $(".plus").removeAttr("disabled");
      }
      
     $( function() {
      fctProgressBar(); // appel de la "fonction objet"
        if(x <= 0 ){ //desactive le bouton - si la valeur est inferieur ou egal a 0
          $(".moins").attr("disabled", true); 
        }
      });
    });

 // FIN DE LA FONCTION PROGRESSBAR AVANCEMENT  


 
$("#valid_register_button").click(function(){

   alert("click");

});


$("#display_modal").click(function(){

  let is_empty = '';
  let email = $("#id_email").val();
  let last_name = $("#id_last_name").val();
  let first_name = $("#id_first_name").val();
  let poste = $("#id_poste option:selected").text();
  let role = $("#id_role").val();


   
  
  let modal_head = '<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"> <div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="exampleModalLabel">Veuillez verifier les informations</h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body">' ; 
  let modal_body = '<p>nom : ' +  last_name + '</p>' +  '<p>prénom : ' +  first_name+ '<p>email : ' +  email+ '</p>' + '</p>' + '<p>poste : ' +  poste+ '</p>' + '<p>poste : ' +  role+ '</p>' ;


  let modal_footer = '</div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button> <button form="valid_register"  class="btn btn-primary" type="submit"> Valider </button></div></div></div></div>';


  switch(is_empty){
            
            case last_name:
                    alert(' Veuillez entrer un nom.')
                break;
            case first_name:
                    alert(' Veuillez entrer un prénom.')
                break;
            case email:
                    alert('Veuillez entrer une adresse mail.')
                break;
          case role:
                    alert('Veuillez selectionner un role.')
                break;
            
            default:
            document.getElementById("affich_modal").innerHTML = modal_head + modal_body + modal_footer  ;
        }

  


  

  
});


   


      $sidebar = $('.sidebar');

      $sidebar_img_container = $sidebar.find('.sidebar-background');

      $full_page = $('.full-page');

      $sidebar_responsive = $('body > .navbar-collapse');2

      window_width = $(window).width();

      fixed_plugin_open = $('.sidebar .sidebar-wrapper .nav li.active a p').html();

      if (window_width > 767 && fixed_plugin_open == 'Dashboard') {
        if ($('.fixed-plugin .dropdown').hasClass('show-dropdown')) {
          $('.fixed-plugin .dropdown').addClass('open');
        }

      }

      $('.fixed-plugin a').click(function(event) {
        // Alex if we click on switch, stop propagation of the event, so the dropdown will not be hide, otherwise we set the  section active
        if ($(this).hasClass('switch-trigger')) {
          if (event.stopPropagation) {
            event.stopPropagation();
          } else if (window.event) {
            window.event.cancelBubble = true;
          }
        }
      });

      $('.fixed-plugin .active-color span').click(function() {
        $full_page_background = $('.full-page-background');

        $(this).siblings().removeClass('active');
        $(this).addClass('active');

        var new_color = $(this).data('color');

        if ($sidebar.length != 0) {
          $sidebar.attr('data-color', new_color);
        }

        if ($full_page.length != 0) {
          $full_page.attr('filter-color', new_color);
        }

        if ($sidebar_responsive.length != 0) {
          $sidebar_responsive.attr('data-color', new_color);
        }
      });

      $('.fixed-plugin .background-color .badge').click(function() {
        $(this).siblings().removeClass('active');
        $(this).addClass('active');

        var new_color = $(this).data('background-color');

        if ($sidebar.length != 0) {
          $sidebar.attr('data-background-color', new_color);
        }
      });

      $('.fixed-plugin .img-holder').click(function() {
        $full_page_background = $('.full-page-background');

        $(this).parent('li').siblings().removeClass('active');
        $(this).parent('li').addClass('active');


        var new_image = $(this).find("img").attr('src');

        if ($sidebar_img_container.length != 0 && $('.switch-sidebar-image input:checked').length != 0) {
            $sidebar_img_container.fadeOut('fast', function() {
            $sidebar_img_container.css('background-image', 'url("' + new_image + '")');
            $sidebar_img_container.fadeIn('fast');
          });
        }

        if ($full_page_background.length != 0 && $('.switch-sidebar-image input:checked').length != 0) {
            var new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');
            $full_page_background.fadeOut('fast', function() {
            $full_page_background.css('background-image', 'url("' + new_image_full_page + '")');
            $full_page_background.fadeIn('fast');
          });
        }

        if ($('.switch-sidebar-image input:checked').length == 0) {
          var new_image = $('.fixed-plugin li.active .img-holder').find("img").attr('src');
          var new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');
          $sidebar_img_container.css('background-image', 'url("' + new_image + '")');
          $full_page_background.css('background-image', 'url("' + new_image_full_page + '")');
        }

        if ($sidebar_responsive.length != 0) {
          $sidebar_responsive.css('background-image', 'url("' + new_image + '")');
        }
      });

      $('.switch-sidebar-image input').change(function() {
        $full_page_background = $('.full-page-background');

        $input = $(this);

        if ($input.is(':checked')) {
          if ($sidebar_img_container.length != 0) {
            $sidebar_img_container.fadeIn('fast');
            $sidebar.attr('data-image', '#');
          } 

          if ($full_page_background.length != 0) {
            $full_page_background.fadeIn('fast');
            $full_page.attr('data-image', '#');

          }

          background_image = true;
        } else {
          if ($sidebar_img_container.length != 0) {
            $sidebar.removeAttr('data-image');
            $sidebar_img_container.fadeOut('fast');
          }

          if($full_page_background.length != 0) {
            $full_page.removeAttr('data-image', '#');
            $full_page_background.fadeOut('fast');
          }

          background_image = false;
        }
      });

      $('.switch-sidebar-mini input').change(function() {
        $body = $('body');

        $input = $(this);

        if (md.misc.sidebar_mini_active == true) {
          $('body').removeClass('sidebar-mini');
          md.misc.sidebar_mini_active = false;

          $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar();

        } else {

          $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar('destroy');

          setTimeout(function() {
            $('body').addClass('sidebar-mini');

            md.misc.sidebar_mini_active = true;
          }, 300);
        }

        // we simulate the window Resize so the charts will get updated in realtime.
        var simulateWindowResize = setInterval(function() {
          window.dispatchEvent(new Event('resize'));
        }, 180);

        // we stop the simulation of Window Resize after the animations are completed
        setTimeout(function() {
          clearInterval(simulateWindowResize);
        }, 1000);
        
      });
    });  
  });    
</script>
<script>
  $(document).ready(function() {
    // Javascript method's body can be found in assets/js/demos.js
    md.initDashboardPageCharts();
    
  });
</script>



   
  
  

